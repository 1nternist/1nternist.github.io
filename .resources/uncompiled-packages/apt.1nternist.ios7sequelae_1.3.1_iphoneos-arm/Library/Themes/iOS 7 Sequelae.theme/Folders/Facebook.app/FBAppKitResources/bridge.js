(function(){if(!window.__fbNative){var e={_iframe:null,callNative:function(a,b){e._iframe&&document.body.removeChild(e._iframe);var c=document.createElement("iframe");c.style.width=c.style.height="1px";c.style.position="absolute";c.style.borderStyle="none";for(var d=0;d<b.length;++d)"undefined"===typeof b[d]&&(b[d]=null);d="fbrpc://call?payload="+encodeURIComponent(JSON.stringify({method:a,parameters:b||[]}));c.src=d;document.body.appendChild(c);e._iframe=c}},f={"dialog.open":function(a){var b="fbwid_"+
(""+Math.random()).substr(2);e.callNative("openURL:windowID:",[a.url,b]);return b},"dialog.close":function(a){e.callNative("closeWindowWithID:",[a.wid]);return null},"dialog.postMessage":function(a){e.callNative("postMessage:targetOrigin:windowID:",[a.message,a.targetOrigin,a.wid]);return null},"toolbar.setCancelAction":function(a){e.callNative("setCancelAction:handleCancelEvent:",[a.label,a.handleCancelEvent]);return null}};window.__fbNative={invoke:function(a){if("string"!==typeof a||0!==a.indexOf("FB_RPC:"))return!1;
a=JSON.parse(a.substr(7));if("2.0"!==a.jsonrpc)return!1;var b=f[a.method];if(!b)return!1;b=b(a.params);"id"in a&&(a={id:a.id,jsonrpc:"2.0",result:b,error:null},b=document.createEvent("Event"),b.initEvent("message",!0,!1),b.data="FB_RPC:"+JSON.stringify(a),document.dispatchEvent(b));return!0},getFeatures:function(){return{dialog:1}},open:function(a){var b=f["dialog.open"]({url:a});return window.__fbNative.dialog={close:function(){window.__fbNative.close(b);this.closed=!0},closed:!1,postMessage:function(a,
d){window.__fbNative.postMessage(a,d,b)}}},close:function(a){f["dialog.close"]({wid:a})},postMessage:function(a,b,c){f["dialog.postMessage"]({message:a,targetOrigin:b,wid:c})},setCancelAction:function(a,b){f["toolbar.setCancelAction"]({label:a,handleCancelEvent:b})}}}})();
